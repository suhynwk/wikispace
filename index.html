<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <title>ê³µê°„ - ìœ„í‚¤ë°±ê³¼ (Infinite Space)</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <style>
      /* --- 1. ê¸°ë³¸ ì„¤ì • --- */
      @import url("https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700&family=Linux+Libertine:wght@400;700&display=swap");

      :root {
        --bg-color: #ffffff;
        --header-height: 60px;
        --sidebar-width: 176px;
        --tools-width: 64px;
        --border-color: #a2a9b1;
        --link-color: #3366cc;
        --text-color: #202122;
        --gray-bg: #f8f9fa;
      }

      body,
      html {
        margin: 0;
        padding: 0;
        width: 100%;
        height: 100%;
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
          "Helvetica Neue", Arial, sans-serif;
        color: var(--text-color);
        background-color: var(--bg-color);
        overflow-x: hidden;
      }

      a {
        color: var(--link-color);
        text-decoration: none;
      }
      a:hover {
        text-decoration: underline;
      }

      /* --- 2. ë ˆì´ì•„ì›ƒ --- */

      .wiki-header {
        height: var(--header-height);
        border-bottom: 1px solid var(--border-color);
        display: flex;
        align-items: center;
        padding: 0 24px;
        background: white;
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        z-index: 2000;
        box-sizing: border-box;
        transition: transform 0.5s ease;
      }

      .hb-menu {
        width: 20px;
        height: 20px;
        margin-right: 20px;
        background: #000;
        -webkit-mask: url('data:image/svg+xml;utf8,<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M0 3h20v2H0V3zm0 6h20v2H0V9zm0 6h20v2H0v-2z"/></svg>')
          no-repeat center;
        cursor: pointer;
      }
      .wiki-logo {
        width: 150px;
        height: 50px;
        background: url("https://upload.wikimedia.org/wikipedia/commons/7/77/Wikipedia_svg_logo.svg")
          no-repeat left center;
        background-size: contain;
        margin-right: 30px;
        opacity: 0.9;
      }
      .search-box {
        flex: 1;
        max-width: 400px;
        height: 32px;
        border: 1px solid #a2a9b1;
        display: flex;
        align-items: center;
        padding-left: 10px;
        font-size: 13px;
        color: #72777d;
        background: #fff
          url("https://upload.wikimedia.org/wikipedia/commons/thumb/0/0b/Search_Icon.svg/20px-Search_Icon.svg.png")
          no-repeat 96% center;
      }
      .user-menu {
        margin-left: auto;
        font-size: 12px;
        font-weight: bold;
        color: var(--text-color);
        display: flex;
        gap: 15px;
      }

      #static-wrapper {
        position: relative;
        background: white;
        z-index: 100;
        min-height: 100vh;
        margin-top: var(--header-height);
      }

      /* ë°”ë”” ì»¨í…Œì´ë„ˆ */
      .wiki-body-container {
        display: grid;
        grid-template-columns: var(--sidebar-width) 1fr var(--tools-width);
        min-height: calc(100vh - var(--header-height));
      }

      /* ì‚¬ì´ë“œë°” */
      .vector-sidebar {
        background: var(--gray-bg);
        padding: 24px 16px;
        border-right: 1px solid #eaecf0;
        font-size: 0.875rem;
        height: 100%;
        box-sizing: border-box;
      }

      .nav-title {
        color: #54595d;
        font-size: 0.75rem;
        font-weight: bold;
        margin: 20px 0 10px 0;
        padding-bottom: 5px;
        border-bottom: 1px solid #eaecf0;
        display: block;
      }
      .nav-item {
        display: block;
        padding: 6px 0;
        color: var(--link-color);
        cursor: pointer;
        line-height: 1.3;
      }
      .nav-item:hover {
        text-decoration: underline;
      }
      .nav-item.selected {
        color: #202122;
        font-weight: bold;
        padding-left: 8px;
        margin-left: -10px;
        border-left: 2px solid #202122;
      }
      .nav-text {
        color: #202122;
        font-size: 0.85em;
        margin-top: 5px;
      }

      /* ë¬´í•œ ëª¨ë“œ ì‚¬ì´ë“œë°” */
      #infinite-sidebar-container {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        bottom: 0;
        width: var(--sidebar-width);
        z-index: 3000;
        background: var(--gray-bg);
        border-right: 1px solid #eaecf0;
        padding-top: 20px;
      }

      /* ë³¸ë¬¸ */
      .main-content {
        padding: 30px 40px;
        background: white;
        max-width: 960px;
      }
      .sidebar-right {
        border-left: 1px solid #eaecf0;
        padding: 20px 10px;
      }

      /* íƒ€ì´í¬ê·¸ë˜í”¼ */
      .firstHeading {
        font-family: "Linux Libertine", serif;
        font-size: 1.8rem;
        border-bottom: 1px solid #a2a9b1;
        padding-bottom: 7px;
        margin-bottom: 15px;
        font-weight: 400;
      }
      .siteSub {
        font-size: 0.8rem;
        color: #54595d;
        margin-bottom: 1.5em;
        display: block;
      }
      .mw-parser-output {
        font-size: 0.938rem;
        line-height: 1.6;
      }
      .mw-parser-output h2 {
        font-family: "Linux Libertine", serif;
        font-size: 1.5rem;
        border-bottom: 1px solid #eaecf0;
        padding-bottom: 5px;
        margin-top: 1.5em;
        margin-bottom: 0.6em;
        font-weight: 400;
      }
      .infobox {
        border: 1px solid #a2a9b1;
        background-color: #f8f9fa;
        margin: 0.5em 0 0.5em 1em;
        padding: 0.2em;
        float: right;
        width: 22em;
        font-size: 88%;
      }

      #trigger-line {
        height: 10px;
        width: 100%;
        margin-top: 150px;
      }

      /* --- ë¬´í•œ ìœ ë‹ˆë²„ìŠ¤ --- */
      #universe {
        position: fixed;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        background: #ffffff;
        display: none;
        overflow: hidden;
        z-index: 900;
      }
      #world {
        position: absolute;
        top: 50%;
        left: 50%;
        width: 0;
        height: 0;
      }

      .infinite-tile {
        position: absolute;
        width: 1100px;
        height: 1200px;
        background: white;
        outline: 1px solid #f0f0f0;
        overflow: hidden;
        transform: translate(-50%, -50%);
      }
      .tile-loading {
        display: flex;
        align-items: center;
        justify-content: center;
        height: 100%;
        color: #ccc;
        font-style: italic;
      }

      /* ìƒë‹¨ íƒ­ ìŠ¤íƒ€ì¼ */
      .wiki-tabs {
        display: flex;
        border-bottom: 1px solid #a2a9b1;
        margin-bottom: 20px;
        align-items: flex-end;
        height: 30px;
      }
      .tab-left {
        padding: 7px 15px;
        border: 1px solid #a2a9b1;
        border-bottom: 1px solid white;
        background: white;
        font-weight: bold;
        margin-bottom: -1px;
        font-size: 13px;
        color: #202122;
      }
      .tab-right {
        padding: 7px 15px;
        color: #3366cc;
        font-size: 13px;
        background: none;
        border: none;
      }
      .tab-tools {
        margin-left: auto;
        display: flex;
        gap: 15px;
        font-size: 13px;
        color: #3366cc;
        align-items: center;
      }

      /* ë°°ê²½ ë¹„ë””ì˜¤ ì˜¤ë²„ë ˆì´ ìŠ¤íƒ€ì¼ */
      #blueprint-video {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        object-fit: cover;
        z-index: 2500;

        opacity: 0; /* ì²˜ìŒì—” ì•ˆ ë³´ì„ */
        mix-blend-mode: multiply;
        pointer-events: none;
        display: none;

        /* [ìœ ì§€] 5ì´ˆ ë™ì•ˆ ì„œì„œíˆ ë‚˜íƒ€ë‚¨ */
        transition: opacity 5s ease;
      }
    </style>
  </head>
  <body>
    <video
      id="blueprint-video"
      src="blueprint.mp4"
      loop
      muted
      playsinline
      preload="auto"
    ></video>

    <div class="wiki-header" id="global-header">
      <div class="hb-menu"></div>
      <div class="wiki-logo"></div>
      <div class="search-box">ìœ„í‚¤ë°±ê³¼ ê²€ìƒ‰</div>
      <div class="user-menu"><span>ë¡œê·¸ì¸</span></div>
    </div>

    <div id="static-wrapper">
      <div class="wiki-body-container">
        <div class="vector-sidebar">
          <div class="nav-title" style="margin-top: 0">ëª©ì°¨</div>
          <div class="nav-item selected">(ì²˜ìŒ)</div>
          <div class="nav-item">1. ì •ì˜ì™€ í™•ì¥</div>
          <div class="nav-item">2. ì¡°ë¥´ì£¼ í˜ë ‰</div>
          <div class="nav-item">3. ë¬´í•œì˜ ê±´ì¶•í•™</div>
          <div class="nav-item">4. íƒí—˜ (Expansion)</div>
        </div>

        <div class="main-content">
          <div class="wiki-tabs">
            <div class="tab-left">ë¬¸ì„œ</div>
            <div class="tab-right">í† ë¡ </div>
            <div class="tab-tools">
              <span style="color: #202122; font-weight: bold">ì½ê¸°</span>
              <span>í¸ì§‘</span>
              <span>ì—­ì‚¬ ë³´ê¸°</span>
            </div>
          </div>

          <h1 class="firstHeading">ê³µê°„ (Space)</h1>
          <div class="siteSub">ìœ„í‚¤ë°±ê³¼, ìš°ë¦¬ ëª¨ë‘ì˜ ë°±ê³¼ì‚¬ì „.</div>

          <div class="mw-parser-output">
            <table class="infobox">
              <tbody>
                <tr>
                  <th
                    colspan="2"
                    style="
                      background: #eaecf0;
                      padding: 5px;
                      font-size: 120%;
                      text-align: center;
                    "
                  >
                    ê³µê°„ (Space)
                  </th>
                </tr>
                <tr>
                  <td colspan="2" style="text-align: center; padding: 15px">
                    <div
                      style="
                        width: 100px;
                        height: 100px;
                        background: #ddd;
                        border-radius: 50%;
                        margin: 0 auto;
                        display: flex;
                        align-items: center;
                        justify-content: center;
                        color: #555;
                        font-size: 12px;
                      "
                    >
                      VOID
                    </div>
                  </td>
                </tr>
                <tr>
                  <th scope="row">ìƒíƒœ</th>
                  <td>ë¬´í•œ í™•ì¥ ì¤‘ (Expanding)</td>
                </tr>
                <tr>
                  <th scope="row">ìœ„ì¹˜</th>
                  <td>World Wide Web</td>
                </tr>
                <tr>
                  <th scope="row">ìš©ëŸ‰</th>
                  <td>âˆ TB</td>
                </tr>
              </tbody>
            </table>

            <p>
              <b>ê³µê°„</b>(ç©ºé–“, ì˜ì–´: Space)ì€ ë¬¼ë¦¬ì  ì‹¤ì²´ê°€ ì¡´ì¬í•˜ê±°ë‚˜ ì‚¬ê±´ì´
              ë°œìƒí•  ìˆ˜ ìˆëŠ” ì¥ì†Œì´ë‹¤. ê·¸ëŸ¬ë‚˜ 21ì„¸ê¸° ë””ì§€í„¸ í˜ëª… ì´í›„, ê³µê°„ì˜
              ì •ì˜ëŠ” ë¬¼ë¦¬ì  ì œì•½ì„ ë„˜ì–´ <a href="#">ì›”ë“œ ì™€ì´ë“œ ì›¹</a>ì´ë¼ëŠ”
              ê±°ëŒ€í•œ ë¹„ë¬¼ì§ˆì  ì°¨ì›ìœ¼ë¡œ ì „ì´ë˜ì—ˆë‹¤.
            </p>

            <p>
              í˜„ëŒ€ì¸ì€ ê¹¨ì–´ìˆëŠ” ì‹œê°„ì˜ ëŒ€ë¶€ë¶„ì„ ì´
              <b>'ìŠ¤í¬ë¦° ë„ˆë¨¸ì˜ ê³µê°„'</b>ì—ì„œ ë³´ë‚¸ë‹¤. ìš°ë¦¬ëŠ” ë§¤ì¼ê°™ì´ ì ‘ì†í•˜ëŠ”
              ì´ ì›¹ í˜ì´ì§€ë“¤ì„ ê³ ì •ëœ ì •ë³´ì˜ ì¡°ê°ì´ë¼ ì—¬ê¸°ì§€ë§Œ, ê·¸ ì‹¤ì²´ëŠ” 0ê³¼
              1ë¡œ ì´ë£¨ì–´ì§„ ëì—†ëŠ” ë°ì´í„°ì˜ íë¦„ì´ì ê±°ëŒ€í•œ ê±´ì¶•ë¬¼ì´ë‹¤.
            </p>

            <h2>ì¡°ë¥´ì£¼ í˜ë ‰ì˜ ê³µê°„ë“¤</h2>
            <p>
              í”„ë‘ìŠ¤ì˜ ì‘ê°€ <b>ì¡°ë¥´ì£¼ í˜ë ‰</b>(Georges Perec)ì€ ê·¸ì˜ ì €ì„œ
              ã€Šê³µê°„ì˜ ì¢…ë¥˜ë“¤ã€‹ì—ì„œ ê³µê°„ì„ ë‹¤ìŒê³¼ ê°™ì´ ì •ì˜í–ˆë‹¤.
            </p>
            <blockquote
              style="
                background: #f8f9fa;
                border-left: 4px solid #eaecf0;
                padding: 10px 15px;
                font-style: italic;
                font-size: 0.95em;
              "
            >
              "ê³µê°„ì€ í•˜ë‚˜ì˜ ì˜ì‹¬ì´ë‹¤: ë‚˜ëŠ” ëŠì„ì—†ì´ ê·¸ê³³ì„ í‘œì‹œí•˜ê³  ì§€ì •í•´ì•¼
              í•œë‹¤. ê³µê°„ì€ ê²°ì½” ë‚´ ê²ƒì´ ì•„ë‹ˆë©°, í•œ ë²ˆë„ ë‚´ê²Œ ì£¼ì–´ì§„ ì ì´ ì—†ì§€ë§Œ,
              ë‚˜ëŠ” ê·¸ê³³ì„ ì •ë³µí•´ì•¼ë§Œ í•œë‹¤."
              <br /><br />
              <span style="font-size: 0.85em; color: #777"
                >(Lâ€™espace est un doute : il me faut sans cesse le marquer, le
                dÃ©signer ; il nâ€™est jamais Ã  moi, il ne mâ€™est jamais donnÃ©, il
                faut que je le conquiÃ¨re.)</span
              >
            </blockquote>
            <p>
              ê·¸ì—ê²Œ ìˆì–´ ê³µê°„ì€ ê³ ì •ëœ ì‹¤ì²´ê°€ ì•„ë‹ˆë¼, ëŠì„ì—†ì´ ì§ˆë¬¸í•˜ê³ 
              íƒêµ¬í•˜ë©° ì±„ì›Œ ë‚˜ê°€ì•¼ í•  'ê°€ëŠ¥ì„±ì˜ ì˜ì—­'ì´ì—ˆë‹¤.
            </p>

            <h2>ë¬´í•œì˜ ê±´ì¶•í•™ (Infinite Architecture)</h2>
            <p>
              ì´ ì›¹ í”„ë¡œì íŠ¸ëŠ” í˜ë ‰ì˜ ê³µê°„ë¡ ì„ ë””ì§€í„¸ ìš°ì£¼ë¡œ í™•ì¥í•˜ë ¤ëŠ”
              ì‹œë„ì´ë‹¤. ì›¹(Web)ì€ ë¬¼ë¦¬ì  í•œê³„ê°€ ì—†ëŠ” ë¬´í•œí•œ ìº”ë²„ìŠ¤ì´ë©°, ì§€ê¸ˆ ì´
              ìˆœê°„ì—ë„ ì „ ì„¸ê³„ì˜ ë°ì´í„°ê°€ ëª¨ì—¬
              <b>ëì—†ì´ ì§€ì–´ì§€ê³  ìˆëŠ” ë¹„ë¬¼ì§ˆì  ê±´ì¶• í˜„ì¥</b>ì´ë‹¤.
            </p>

            <div
              style="
                background: #f8f9fa;
                border-left: 5px solid #3366cc;
                padding: 15px;
                margin: 20px 0;
              "
            >
              <b>ğŸ‘â€ğŸ—¨ í”„ë¡œì íŠ¸ ì„ ì–¸:</b><br />
              ì´ê³³ì€ ê³ ì •ëœ ë¬¸ì„œê°€ ì•„ë‹™ë‹ˆë‹¤. ìŠ¤í¬ë¡¤ì„ ëê¹Œì§€ ë‚´ë¦¬ëŠ” ìˆœê°„, ë‹¹ì‹ ì€
              <b>ë¬´í•œíˆ ì¦ì‹í•˜ëŠ” ë°ì´í„°ì˜ ìš°ì£¼</b>ë¥¼ ëª©ê²©í•˜ê²Œ ë  ê²ƒì…ë‹ˆë‹¤.
            </div>

            <h2>íƒí—˜ (Expansion)</h2>
            <p>
              ì¤€ë¹„ê°€ ë˜ì—ˆë‹¤ë©´, ì•„ë˜ë¡œ ë‚´ë ¤ê°€ì‹­ì‹œì˜¤. ìŠ¤í¬ë¡¤ì„ ëê¹Œì§€ ë‚´ë¦¬ë©´
              í™•ì¥ì´ ì‹œì‘ë©ë‹ˆë‹¤.
            </p>

            <div style="height: 350px"></div>
            <p style="text-align: center; color: #999; font-style: italic">
              Initializing Infinite Sequence...
            </p>
            <div style="height: 100px"></div>

            <div id="trigger-line"></div>
          </div>
        </div>

        <div class="sidebar-right"></div>
      </div>
    </div>

    <div id="infinite-sidebar-container" class="vector-sidebar">
      <div
        class="wiki-logo"
        style="margin-left: -15px; margin-bottom: 20px"
      ></div>

      <div class="nav-title" style="margin-top: 0"></div>
      <div
        class="nav-item selected"
        style="cursor: default; border: none; padding-left: 0; margin-left: 0"
      >
        ê²½ê³¼ ì‹œê°„
      </div>
      <div
        class="nav-text"
        id="timer-display"
        style="
          font-weight: bold;
          color: #202122;
          font-size: 1.1em;
          margin-bottom: 15px;
        "
      >
        00:00:00
      </div>

      <div
        class="nav-item selected"
        style="cursor: default; border: none; padding-left: 0; margin-left: 0"
      >
        ìƒíƒœ
      </div>
      <div class="nav-text">
        ë°ì´í„° ì¦ì‹ ì¤‘...<br />
        ì¢Œí‘œê³„ ìƒì„± ì¤‘...
      </div>

      <div class="nav-title">ë„êµ¬</div>
      <div class="nav-item" onclick="location.reload();">ëŒ€ë¬¸ìœ¼ë¡œ ëŒì•„ê°€ê¸°</div>
      <div class="nav-item">ê³ ìœ  ë§í¬</div>
      <div class="nav-item">ë¬¸ì„œ ì •ë³´</div>

      <div class="nav-title">ë‹¤ë¥¸ ì–¸ì–´</div>
      <div class="nav-item">English</div>
      <div class="nav-item">FranÃ§ais</div>
      <div class="nav-item">Deutsch</div>
    </div>

    <div id="universe">
      <div id="world"></div>
    </div>

    <script>
      // --- ì„¤ì • ---
      const DURATION_MS = 180000; // 3ë¶„
      const TILE_W = 1100;
      const TILE_H = 1200;

      let isInfinite = false;
      let scale = 1.0;
      let startTime = 0;
      let gx = 0,
        gy = 0,
        gdx = 0,
        gdy = -1,
        iter = 0;

      const loadingPhrases = [
        "ë°ì´í„°ë² ì´ìŠ¤ ì ‘ì† ì¤‘...",
        "ì¢Œí‘œ [Null] ìƒì„± ì¤‘...",
        "í•˜ì´í¼ë§í¬ ì—°ê²° ì¤‘...",
        "ìƒˆë¡œìš´ ì°¨ì› í™•ì¥ ì¤‘...",
        "ì•„ì¹´ì´ë¸Œ í•´ë… ì¤‘...",
        "ì™¸ë¶€ ë°ì´í„° ìˆ˜ì‹  ì¤‘...",
        "ê²½ê³„ë©´ ë Œë”ë§ ì¤‘...",
        "ë©”íƒ€ë°ì´í„° ë¶„ì„ ì¤‘...",
      ];

      // 1. ë°”ë‹¥ ê°ì§€
      const observer = new IntersectionObserver(
        (entries) => {
          entries.forEach((entry) => {
            if (entry.isIntersecting && !isInfinite) {
              startInfiniteMode();
            }
          });
        },
        { threshold: 0.1 }
      );
      observer.observe(document.getElementById("trigger-line"));

      // 2. ë¬´í•œ ëª¨ë“œ ì‹œì‘
      function startInfiniteMode() {
        isInfinite = true;
        document.body.style.overflow = "hidden";

        const staticWrap = document.getElementById("static-wrapper");
        const universe = document.getElementById("universe");
        const infiniteSidebar = document.getElementById(
          "infinite-sidebar-container"
        );

        // ìƒë‹¨ í—¤ë” ìˆ¨ê¸°ê¸°
        const header = document.getElementById("global-header");
        if (header) header.style.display = "none";

        const originHTML = staticWrap.innerHTML;
        staticWrap.style.display = "none";
        universe.style.display = "block";
        infiniteSidebar.style.display = "block";

        // ë¹„ë””ì˜¤ ì„¤ì • ë° 5ì´ˆ(5000ms) ì§€ì—° ë“±ì¥
        const video = document.getElementById("blueprint-video");
        if (video) {
          video.style.display = "block";
          video.play();

          // 5ì´ˆ í›„ì— íˆ¬ëª…ë„ë¥¼ 0.7ë¡œ ë³€ê²½í•˜ì—¬ ì„œì„œíˆ ë‚˜íƒ€ë‚˜ê²Œ í•¨
          setTimeout(() => {
            video.style.opacity = "0.7";
          }, 5000);
        }

        createTile(0, 0, originHTML, true);

        startTime = performance.now();
        requestAnimationFrame(autoZoomLoop);

        // [ìœ ì§€] 0.25ì´ˆ (ë¹ ë¥¸ í™•ì¥)
        setInterval(expandSurface, 260);
      }

      // 3. ìë™ ì¤Œì•„ì›ƒ
      function autoZoomLoop(currentTime) {
        const elapsed = currentTime - startTime;
        updateTimer(elapsed);

        if (elapsed < DURATION_MS) {
          // [ìœ ì§€] 0.9997 (ì²œì²œíˆ ì¤Œì•„ì›ƒ)
          scale *= 0.99965;
          const world = document.getElementById("world");
          world.style.transform = `scale(${scale})`;
          requestAnimationFrame(autoZoomLoop);
        } else {
          document.getElementById("timer-display").innerText =
            "03:00:00 (ì™„ë£Œ)";
        }
      }

      function updateTimer(ms) {
        if (ms > DURATION_MS) ms = DURATION_MS;
        const totalSeconds = Math.floor(ms / 1000);
        const minutes = Math.floor(totalSeconds / 60);
        const seconds = totalSeconds % 60;
        const centis = Math.floor((ms % 1000) / 10);
        const mStr = String(minutes).padStart(2, "0");
        const sStr = String(seconds).padStart(2, "0");
        const cStr = String(centis).padStart(2, "0");
        document.getElementById(
          "timer-display"
        ).innerText = `${mStr}:${sStr}:${cStr}`;
      }

      // 4. í‘œë©´ í™•ì¥
      function expandSurface() {
        if (gx === gy || (gx < 0 && gx === -gy) || (gx > 0 && gx === 1 - gy)) {
          let t = gdx;
          gdx = -gdy;
          gdy = t;
        }
        gx += gdx;
        gy += gdy;
        createApiTile(gx * TILE_W, gy * TILE_H, iter);
        iter++;
      }

      // 5. API íƒ€ì¼ ìƒì„±
      async function createApiTile(x, y, index) {
        const world = document.getElementById("world");
        const tile = document.createElement("div");
        tile.className = "infinite-tile";
        tile.style.left = x + "px";
        tile.style.top = y + "px";

        const randomMsg =
          loadingPhrases[Math.floor(Math.random() * loadingPhrases.length)];

        // ìƒë‹¨ë°” ì‚­ì œë¨. ì‚¬ì´ë“œë°”ë§Œ ì¡´ì¬.
        tile.innerHTML = `
                <div class="wiki-ui" style="height:100%;">
                    <div class="wiki-body-container" style="height:100%; box-sizing: border-box; margin:0; padding:0;">
                        <div class="vector-sidebar">
                            <div class="nav-title" style="margin-top:0;">ëª©ì°¨</div>
                            <div class="nav-item">1. ê°œìš”</div>
                            <div class="nav-item">2. ìƒì„¸</div>
                            <div class="nav-item">3. ì—­ì‚¬</div>
                        </div>
                        <div class="main-content">
                            <div class="wiki-tabs">
                                <div class="tab-left">ë¬¸ì„œ</div>
                                <div class="tab-right">í† ë¡ </div>
                                <div class="tab-tools">
                                    <span style="color:#202122; font-weight:bold;">ì½ê¸°</span>
                                    <span>í¸ì§‘</span>
                                    <span>ì—­ì‚¬ ë³´ê¸°</span>
                                </div>
                            </div>
                            <div class="content-body">
                                <div class="tile-loading">${randomMsg}</div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        world.appendChild(tile);

        try {
          const topics = [
            "ê±´ì¶•",
            "ë„ì‹œ",
            "ë°©",
            "ì§‘",
            "ë„ì„œê´€",
            "ë¯¸ë¡œ",
            "ìš°ì£¼",
            "ì‹œê°„",
            "ê¸°ì–µ",
            "ì§€ë„",
            "ì¸í„°ë„·",
            "ë°ì´í„°",
            "í”„ë™íƒˆ",
            "ë¸”ë™í™€",
            "ì€í•˜",
            "ì‹¬ë¦¬í•™",
            "ì² í•™",
            "ì—­ì‚¬",
            "ë¬¸í•™",
            "ì˜ˆìˆ ",
          ];
          let keyword = topics[index % topics.length];
          let apiUrl;

          if (index < topics.length * 2) {
            apiUrl = `https://ko.wikipedia.org/w/api.php?action=parse&format=json&origin=*&page=${encodeURIComponent(
              keyword
            )}&prop=text&mobileformat=html`;
          } else {
            const rRes = await fetch(
              `https://ko.wikipedia.org/w/api.php?action=query&list=random&rnnamespace=0&rnlimit=1&format=json&origin=*`
            );
            const rData = await rRes.json();
            apiUrl = `https://ko.wikipedia.org/w/api.php?action=parse&format=json&origin=*&page=${encodeURIComponent(
              rData.query.random[0].title
            )}&prop=text&mobileformat=html`;
          }

          const res = await fetch(apiUrl);
          const data = await res.json();
          if (data.parse && data.parse.text)
            fillTile(tile, data.parse.title, data.parse.text["*"]);
        } catch (e) {}
      }

      function fillTile(tile, title, html) {
        let safeHtml = html
          .replace(/src="\/\//g, 'src="https://')
          .replace(/href="\//g, 'href="#');

        const contentBody = tile.querySelector(".content-body");

        if (contentBody) {
          contentBody.innerHTML = `
                <h1 class="firstHeading">${title}</h1>
                <div class="siteSub">ìœ„í‚¤ë°±ê³¼, ìš°ë¦¬ ëª¨ë‘ì˜ ë°±ê³¼ì‚¬ì „.</div>
                <div class="mw-parser-output">${safeHtml}</div>
            `;
        }
      }

      function createTile(x, y, html, isOrigin) {
        const world = document.getElementById("world");
        const tile = document.createElement("div");
        tile.className = "infinite-tile";
        tile.style.left = x + "px";
        tile.style.top = y + "px";
        if (isOrigin) tile.style.zIndex = 10;
        tile.innerHTML = html;
        const sensor = tile.querySelector("#trigger-line");
        if (sensor) sensor.remove();
        world.appendChild(tile);
      }
    </script>
  </body>
</html>
